export default(async(r,e={})=>{try{if(!r)return!1;return Object.assign(e,{progress:e.progress??!1,response:e.response??!1,error:e.error??!1}),await new Promise((o,s)=>{let t=new FileReader;t.onload=()=>{isFn(e.response)&&e.response(t.result),o(t.result)},isFn(e.progress)&&(t.onprogress=r=>{r.lengthComputable&&e.progress({loaded:r.loaded,total:r.total,percent:parseFloat((r.loaded/r.total*100).toFixed(2))})}),t.onerror=()=>{isFn(e.error)&&e.error(t.error),s(t.error)},t.readAsDataURL(r)}),!0}catch{return!1}});