export default(async(t=null)=>{if(isObj(t)){let a=history.state;t.path=String(t.path),t.path=t.path.startsWith("#")?`${location.pathname||"/"}${location.search}${t.path}`:toPath(t.path);let e=t.path||`${location.pathname||"/"}${location.search}${location.hash}`,h=a&&a.path===e?"replaceState":"pushState";history[h](t,"",`${location.origin}${e}`),coreData.state.length>=coreData.cache.state&&coreData.state.pop(),coreData.state[0]?.path!==e&&coreData.state.unshift(t),coreData.events?.state&&"pushState"===h&&evt.run("state",{current:t,previous:coreData.state.length>=2?coreData.state[1]:null})}});