export default(async(t=null,e={})=>(await new Promise(i=>{(e=isObj(e)?e:{}).speed=e.speed&&!isNan(e.speed)?toNum(e.speed):300,e.type=e.type?e.type:"smooth",e.axis=!!e.axis&&"X"===e.axis.toUpperCase(),e.align=e.align&&["top","center","bottom","left","right"].includes(e.align)?e.align:e.align&&!isNan(e.align)?toNum(e.align):e.axis?"left":"top",e.offset=e.offset&&!isNan(e.offset)?toNum(e.offset):0;let l={linear:t=>t,ease:t=>t<.5?4*t**3:(t-1)**3*4+1,smooth:t=>t*(2-t)},n=isElem(t),g=$(!0).documentElement,o=e.axis?n?t.scrollLeft:g.scrollLeft||window.scrollX:n?t.scrollTop:g.scrollTop||window.scrollY,s=i=>{let l=0;if(e.target&&isElem(e.target)){let s=e.target.getBoundingClientRect(),a=n?t.getBoundingClientRect():i?{left:0,width:g.clientWidth||window.innerWidth}:{top:0,height:g.clientHeight||window.innerHeight};l=i?s.left-a.left+o:s.top-a.top+o,"center"===e.align?l=i?l-a.width/2+s.width/2:l-a.height/2+s.height/2:i&&"right"===e.align?l=l-a.width+s.width:i||"bottom"!==e.align?isNum(e.align)&&(l+=e.align):l=l-a.height+s.height}else{let h=i?n?t.getBoundingClientRect().width:g.clientWidth||window.innerWidth:n?t.getBoundingClientRect().height:g.clientHeight||window.innerHeight,r=i?n?t.scrollWidth:g.scrollWidth:n?t.scrollHeight:g.scrollHeight;"center"===e.align?l=(r-h)/2:"right"===e.align||"bottom"===e.align?l=r-h:isNum(e.align)&&(l=e.align<0?r-h+e.align:e.align)}return isNum(e.offset)?l+e.offset:l},a=s(!!e.axis)-o,h=null,r=g=>{h||(h=g);let s=Math.min((g-h)/e.speed,1),c=l[e.type]?l[e.type](s):l.smooth(s);(n?t:window).scrollTo(e.axis?o+a*c:0,e.axis?0:o+a*c),s<1?requestAnimationFrame(r):i()};requestAnimationFrame(r)}),!0));