export default(t=>{if(!(t instanceof HTMLFormElement))return null;t.$('input[type="file"]')&&t.setAttribute("enctype","multipart/form-data");let e={};for(let r in new FormData(t).forEach((t,r)=>{r=r.endsWith("[]")?r.slice(0,-2).trim():r.trim();let l=r.replace(/\]/g,"").split("[");t=isStr(t)&&/^-?\d+(\.\d+)?$/.test(t)?parseFloat(String(t).replace(/[^0-9.-]/g,"").trim()):t;let n=e;l.forEach((e,r)=>{n[e]||(n[e]=r===l.length-1?t:{}),r===l.length-1?isArr(n[e])?n[e].push(t):n[e]!==t&&(n[e]=[n[e],t]):n=n[e]})}),e)e.hasOwnProperty(r)&&isArr(e[r])&&1===e[r].length&&(e[r]=e[r][0]);return e});